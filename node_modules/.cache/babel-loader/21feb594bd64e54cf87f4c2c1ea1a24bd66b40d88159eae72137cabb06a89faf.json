{"ast":null,"code":"//import React, { useState } from 'react';\nimport{FaFolder,FaFolderOpen,FaFileCode,FaPlus,FaEllipsisV}from'react-icons/fa';import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FileSidebar=_ref=>{var _tree$children;let{tree,activeFile,setActiveFile,onAddFile,onAddFolder,onAddFileToFolder,roomId,setFiles,setFileTree,socketRef,username}=_ref;const[expandedFolders,setExpandedFolders]=useState({});const[contextMenu,setContextMenu]=useState(null);const[menuType,setMenuType]=useState(null);const toggleFolder=folderPath=>{setExpandedFolders(prev=>({...prev,[folderPath]:!prev[folderPath]}));};const showRootContextMenu=e=>{e.preventDefault();const rect=e.currentTarget.getBoundingClientRect();setContextMenu({top:rect.bottom+window.scrollY,left:rect.left+window.scrollX});setMenuType('root');};const handleContextMenu=(e,filePath,type)=>{e.preventDefault();const rect=e.currentTarget.getBoundingClientRect();setContextMenu({top:rect.bottom+window.scrollY,left:rect.left+window.scrollX,filePath});setMenuType(type);};const closeContextMenu=()=>{setContextMenu(null);setMenuType(null);};const handleCreateFileInFolder=folderPath=>{const newFileName=prompt('Enter new file name (e.g., about.html)');if(!newFileName)return;const fullPath=folderPath+newFileName;onAddFileToFolder&&onAddFileToFolder(fullPath);closeContextMenu();};const handleRename=async oldPath=>{const isFolder=oldPath.endsWith('/');const defaultName=isFolder?oldPath.split('/').slice(-2,-1)[0]:oldPath.split('/').pop();const newName=prompt('Enter new name',defaultName);if(!newName||newName===defaultName)return;try{// Calculate new path\nlet newPath;if(isFolder){const parts=oldPath.split('/');parts.splice(-2,1,newName);newPath=parts.join('/');}else{const parts=oldPath.split('/');parts[parts.length-1]=newName;newPath=parts.join('/');}const res=await fetch('https://realtime-code-editor-backend-l2ok.onrender.com/api/code/rename',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({roomId,oldPath,newPath})});if(res.ok){var _socketRef$current;// Update files state\nsetFiles(prev=>{const newFiles={...prev};if(newFiles[oldPath]){newFiles[newPath]=newFiles[oldPath];delete newFiles[oldPath];}return newFiles;});// Update file tree state\nsetFileTree(prevTree=>{if(!prevTree)return prevTree;const newTree=JSON.parse(JSON.stringify(prevTree));const updateNode=nodes=>{for(let node of nodes){if(node.path===oldPath){node.name=newName;node.path=newPath;return true;}if(node.children&&updateNode(node.children)){return true;}}return false;};updateNode(newTree.children);return newTree;});// Update active file if needed\nif(activeFile===oldPath){setActiveFile(newPath);}if((_socketRef$current=socketRef.current)!==null&&_socketRef$current!==void 0&&_socketRef$current.connected){const eventName=isFolder?'folder-renamed':'file-renamed';socketRef.current.emit(eventName,{roomId,oldPath,newPath,username});}if(!isFolder&&activeFile===oldPath){setActiveFile(newPath);}}else{throw new Error('Rename failed');}}catch(error){console.error('Rename error:',error);alert('Rename failed. Check console for details.');}};const handleDelete=async path=>{if(!window.confirm(`Are you sure you want to delete ${path}?`))return;const isFolder=path.endsWith('/');try{const res=await fetch(`https://realtime-code-editor-backend-l2ok.onrender.com/api/code/delete/${roomId}`,{method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify({path})});if(res.ok){var _socketRef$current2;// Update files state\nsetFiles(prev=>{const newFiles={...prev};delete newFiles[path];return newFiles;});// Update file tree state\nsetFileTree(prevTree=>{if(!prevTree)return prevTree;const newTree=JSON.parse(JSON.stringify(prevTree));const removeNode=nodes=>{for(let i=0;i<nodes.length;i++){if(nodes[i].path===path){nodes.splice(i,1);return true;}if(nodes[i].children&&removeNode(nodes[i].children)){return true;}}return false;};removeNode(newTree.children);return newTree;});if((_socketRef$current2=socketRef.current)!==null&&_socketRef$current2!==void 0&&_socketRef$current2.connected){const eventName=isFolder?'folder-deleted':'file-deleted';socketRef.current.emit(eventName,{roomId,path,username});}}else{throw new Error('Delete failed');}}catch(error){console.error('Delete error:',error);alert('Delete failed. Check console for details.');}};const renderTree=node=>{if(node.type==='file'){return/*#__PURE__*/_jsxs(\"div\",{className:`file-item ${node.path===activeFile?'active':''}`,onClick:()=>setActiveFile(node.path),children:[/*#__PURE__*/_jsx(FaFileCode,{}),/*#__PURE__*/_jsx(\"span\",{children:node.name}),/*#__PURE__*/_jsx(FaEllipsisV,{onClick:e=>{e.stopPropagation();handleContextMenu(e,node.path,'file');}})]},node.path);}if(node.type==='folder'){return/*#__PURE__*/_jsxs(\"div\",{className:\"folder-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"folder-item\",onClick:()=>toggleFolder(node.path),children:[expandedFolders[node.path]?/*#__PURE__*/_jsx(FaFolderOpen,{}):/*#__PURE__*/_jsx(FaFolder,{}),/*#__PURE__*/_jsx(\"span\",{children:node.name}),/*#__PURE__*/_jsx(FaEllipsisV,{onClick:e=>{e.stopPropagation();handleContextMenu(e,node.path,'folder');}})]}),expandedFolders[node.path]&&/*#__PURE__*/_jsx(\"div\",{className:\"folder-contents\",children:node.children.map(child=>renderTree(child))})]},node.path);}return null;};// Close context menu when clicking outside\nuseEffect(()=>{const handleClickOutside=()=>{setContextMenu(null);};document.addEventListener('click',handleClickOutside);return()=>{document.removeEventListener('click',handleClickOutside);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"file-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-sidebar-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Files\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();showRootContextMenu(e);},title:\"Add File\",children:[/*#__PURE__*/_jsx(FaPlus,{}),\" File\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();showRootContextMenu(e);},title:\"Add Folder\",children:[/*#__PURE__*/_jsx(FaPlus,{}),\" Folder\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"file-tree\",children:tree===null||tree===void 0?void 0:(_tree$children=tree.children)===null||_tree$children===void 0?void 0:_tree$children.map(child=>renderTree(child))}),contextMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"context-menu\",style:{position:'fixed',// Changed from 'absolute' to 'fixed'\ntop:`${contextMenu.top}px`,left:`${contextMenu.left}px`,zIndex:1000,backgroundColor:'white',border:'1px solid #ddd',borderRadius:'4px',boxShadow:'0 2px 10px rgba(0,0,0,0.2)',minWidth:'150px'},onClick:e=>e.stopPropagation(),children:[menuType==='folder'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"context-menu-item\",onClick:()=>{handleCreateFileInFolder(contextMenu.filePath);closeContextMenu();},children:\"New File\"}),/*#__PURE__*/_jsx(\"div\",{className:\"context-menu-item\",onClick:()=>{// Handle new folder in folder\ncloseContextMenu();},children:\"New Folder\"})]}),menuType==='root'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"context-menu-item\",onClick:()=>{onAddFile();closeContextMenu();},children:\"New File\"}),/*#__PURE__*/_jsx(\"div\",{className:\"context-menu-item\",onClick:()=>{onAddFolder();closeContextMenu();},children:\"New Folder\"})]}),menuType!=='root'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"context-menu-item\",onClick:()=>{handleRename(contextMenu.filePath);closeContextMenu();},children:\"Rename\"}),/*#__PURE__*/_jsx(\"div\",{className:\"context-menu-item\",onClick:()=>{handleDelete(contextMenu.filePath);closeContextMenu();},children:\"Delete\"})]})]})]});};export default FileSidebar;","map":{"version":3,"names":["FaFolder","FaFolderOpen","FaFileCode","FaPlus","FaEllipsisV","React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FileSidebar","_ref","_tree$children","tree","activeFile","setActiveFile","onAddFile","onAddFolder","onAddFileToFolder","roomId","setFiles","setFileTree","socketRef","username","expandedFolders","setExpandedFolders","contextMenu","setContextMenu","menuType","setMenuType","toggleFolder","folderPath","prev","showRootContextMenu","e","preventDefault","rect","currentTarget","getBoundingClientRect","top","bottom","window","scrollY","left","scrollX","handleContextMenu","filePath","type","closeContextMenu","handleCreateFileInFolder","newFileName","prompt","fullPath","handleRename","oldPath","isFolder","endsWith","defaultName","split","slice","pop","newName","newPath","parts","splice","join","length","res","fetch","method","headers","body","JSON","stringify","ok","_socketRef$current","newFiles","prevTree","newTree","parse","updateNode","nodes","node","path","name","children","current","connected","eventName","emit","Error","error","console","alert","handleDelete","confirm","_socketRef$current2","removeNode","i","renderTree","className","onClick","stopPropagation","map","child","handleClickOutside","document","addEventListener","removeEventListener","title","style","position","zIndex","backgroundColor","border","borderRadius","boxShadow","minWidth"],"sources":["D:/realtime-code-editor/client/src/components/FileSidebar.js"],"sourcesContent":["//import React, { useState } from 'react';\r\nimport { FaFolder, FaFolderOpen, FaFileCode, FaPlus, FaEllipsisV } from 'react-icons/fa';\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nconst FileSidebar = ({ tree, activeFile, setActiveFile, onAddFile, onAddFolder, onAddFileToFolder, roomId,setFiles,setFileTree,socketRef,username }) => {\r\n  const [expandedFolders, setExpandedFolders] = useState({});\r\n  const [contextMenu, setContextMenu] = useState(null);\r\nconst [menuType, setMenuType] = useState(null);\r\n\r\n  const toggleFolder = (folderPath) => {\r\n    setExpandedFolders(prev => ({\r\n      ...prev,\r\n      [folderPath]: !prev[folderPath]\r\n    }));\r\n  };\r\n const showRootContextMenu = (e) => {\r\n    e.preventDefault();\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    setContextMenu({\r\n      top: rect.bottom + window.scrollY,\r\n      left: rect.left + window.scrollX\r\n    });\r\n    setMenuType('root');\r\n  };\r\n  const handleContextMenu = (e, filePath, type) => {\r\n    e.preventDefault();\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    setContextMenu({\r\n      top: rect.bottom + window.scrollY,\r\n      left: rect.left + window.scrollX,\r\n      filePath,\r\n    });\r\n    setMenuType(type);\r\n  };\r\n\r\n const closeContextMenu = () => {\r\n    setContextMenu(null);\r\n    setMenuType(null);\r\n  };\r\n  const handleCreateFileInFolder = (folderPath) => {\r\n    const newFileName = prompt('Enter new file name (e.g., about.html)');\r\n   \r\n    if (!newFileName) return;\r\n    const fullPath = folderPath + newFileName;\r\n    onAddFileToFolder && onAddFileToFolder(fullPath);\r\n    closeContextMenu();\r\n  };\r\n\r\nconst handleRename = async (oldPath) => {\r\n  const isFolder = oldPath.endsWith('/');\r\n  const defaultName = isFolder \r\n    ? oldPath.split('/').slice(-2, -1)[0] \r\n    : oldPath.split('/').pop();\r\n  \r\n  const newName = prompt('Enter new name', defaultName);\r\n  \r\n  if (!newName || newName === defaultName) return;\r\n\r\n  try {\r\n    // Calculate new path\r\n    let newPath;\r\n    if (isFolder) {\r\n      const parts = oldPath.split('/');\r\n      parts.splice(-2, 1, newName);\r\n      newPath = parts.join('/');\r\n    } else {\r\n      const parts = oldPath.split('/');\r\n      parts[parts.length - 1] = newName;\r\n      newPath = parts.join('/');\r\n    }\r\n\r\n    const res = await fetch('https://realtime-code-editor-backend-l2ok.onrender.com/api/code/rename', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ roomId, oldPath, newPath })\r\n    });\r\n\r\n    if (res.ok) {\r\n      // Update files state\r\n      setFiles(prev => {\r\n        const newFiles = { ...prev };\r\n        if (newFiles[oldPath]) {\r\n          newFiles[newPath] = newFiles[oldPath];\r\n          delete newFiles[oldPath];\r\n        }\r\n        return newFiles;\r\n      });\r\n\r\n      // Update file tree state\r\n      setFileTree(prevTree => {\r\n        if (!prevTree) return prevTree;\r\n        \r\n        const newTree = JSON.parse(JSON.stringify(prevTree));\r\n        const updateNode = (nodes) => {\r\n          for (let node of nodes) {\r\n            if (node.path === oldPath) {\r\n              node.name = newName;\r\n              node.path = newPath;\r\n              return true;\r\n            }\r\n            if (node.children && updateNode(node.children)) {\r\n              return true;\r\n            }\r\n          }\r\n          return false;\r\n        };\r\n        \r\n        updateNode(newTree.children);\r\n        return newTree;\r\n      });\r\n\r\n      // Update active file if needed\r\n      if (activeFile === oldPath) {\r\n        setActiveFile(newPath);\r\n      }\r\n           if (socketRef.current?.connected) {\r\n          const eventName = isFolder ? 'folder-renamed' : 'file-renamed';\r\n          socketRef.current.emit(eventName, {\r\n            roomId,\r\n            oldPath,\r\n            newPath,\r\n            username\r\n          });\r\n        }\r\n\r\n        if (!isFolder && activeFile === oldPath) {\r\n          setActiveFile(newPath);\r\n        }\r\n    } else {\r\n      throw new Error('Rename failed');\r\n    }\r\n  } catch (error) {\r\n    console.error('Rename error:', error);\r\n    alert('Rename failed. Check console for details.');\r\n  }\r\n};\r\n\r\n const handleDelete = async (path) => {\r\n  if (!window.confirm(`Are you sure you want to delete ${path}?`)) return;\r\n  const isFolder=path.endsWith('/');\r\n  try {\r\n    const res = await fetch(`https://realtime-code-editor-backend-l2ok.onrender.com/api/code/delete/${roomId}`, {\r\n      method: 'DELETE',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ path })\r\n    });\r\n\r\n    if (res.ok) {\r\n      // Update files state\r\n      setFiles(prev => {\r\n        const newFiles = { ...prev };\r\n        delete newFiles[path];\r\n        return newFiles;\r\n      });\r\n\r\n      // Update file tree state\r\n      setFileTree(prevTree => {\r\n        if (!prevTree) return prevTree;\r\n        \r\n        const newTree = JSON.parse(JSON.stringify(prevTree));\r\n        const removeNode = (nodes) => {\r\n          for (let i = 0; i < nodes.length; i++) {\r\n            if (nodes[i].path === path) {\r\n              nodes.splice(i, 1);\r\n              return true;\r\n            }\r\n            if (nodes[i].children && removeNode(nodes[i].children)) {\r\n              return true;\r\n            }\r\n          }\r\n          return false;\r\n        };\r\n        \r\n        removeNode(newTree.children);\r\n        return newTree;\r\n      });\r\n      if (socketRef.current?.connected) {\r\n          const eventName = isFolder ? 'folder-deleted' : 'file-deleted';\r\n          socketRef.current.emit(eventName, {\r\n            roomId,\r\n            path,\r\n            username\r\n          });\r\n        }\r\n    } else {\r\n      throw new Error('Delete failed');\r\n    }\r\n  } catch (error) {\r\n    console.error('Delete error:', error);\r\n    alert('Delete failed. Check console for details.');\r\n  }\r\n};\r\n\r\n  const renderTree = (node) => {\r\n    if (node.type === 'file') {\r\n      return (\r\n        <div\r\n          key={node.path}\r\n          className={`file-item ${node.path === activeFile ? 'active' : ''}`}\r\n          onClick={() => setActiveFile(node.path)}\r\n        >\r\n          <FaFileCode />\r\n          <span>{node.name}</span>\r\n          <FaEllipsisV onClick={(e) => {\r\n            e.stopPropagation();\r\n            handleContextMenu(e, node.path, 'file')}} />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (node.type === 'folder') {\r\n      return (\r\n        <div key={node.path} className=\"folder-container\">\r\n          <div className=\"folder-item\" onClick={() => toggleFolder(node.path)}>\r\n            {expandedFolders[node.path] ? <FaFolderOpen /> : <FaFolder />}\r\n            <span>{node.name}</span>\r\n            <FaEllipsisV onClick={(e) => \r\n            {e.stopPropagation();\r\n              handleContextMenu(e, node.path, 'folder');}} />\r\n          </div>\r\n\r\n          {expandedFolders[node.path] && (\r\n            <div className=\"folder-contents\">\r\n              {node.children.map(child => renderTree(child))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n// Close context menu when clicking outside\r\nuseEffect(() => {\r\n  const handleClickOutside = () => {\r\n    setContextMenu(null);\r\n  };\r\n  document.addEventListener('click', handleClickOutside);\r\n  return () => {\r\n    document.removeEventListener('click', handleClickOutside);\r\n  };\r\n}, []);\r\n\r\n return (\r\n    <div className=\"file-sidebar\">\r\n      <div className=\"file-sidebar-header\">\r\n        <h3>Files</h3>\r\n        <div className=\"file-actions\">\r\n  <button \r\n    onClick={(e) => {\r\n      e.stopPropagation();\r\n      showRootContextMenu(e);\r\n    }} \r\n    title=\"Add File\"\r\n  >\r\n    <FaPlus /> File\r\n  </button>\r\n  <button \r\n    onClick={(e) => {\r\n      e.stopPropagation();\r\n      showRootContextMenu(e);\r\n    }} \r\n    title=\"Add Folder\"\r\n  >\r\n    <FaPlus /> Folder\r\n  </button>\r\n</div>\r\n      </div>\r\n\r\n      <div className=\"file-tree\">\r\n        {tree?.children?.map(child => renderTree(child))}\r\n      </div>\r\n\r\n      {contextMenu && (\r\n        <div\r\n          className=\"context-menu\"\r\n          style={{\r\n            position: 'fixed', // Changed from 'absolute' to 'fixed'\r\n      top: `${contextMenu.top}px`,\r\n      left: `${contextMenu.left}px`,\r\n      zIndex: 1000,\r\n      backgroundColor: 'white',\r\n      border: '1px solid #ddd',\r\n      borderRadius: '4px',\r\n      boxShadow: '0 2px 10px rgba(0,0,0,0.2)',\r\n      minWidth: '150px'\r\n          }}\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n          {menuType === 'folder' && (\r\n            <>\r\n              <div className=\"context-menu-item\" onClick={() => {\r\n                handleCreateFileInFolder(contextMenu.filePath);\r\n                closeContextMenu();\r\n              }}>New File</div>\r\n              <div className=\"context-menu-item\" onClick={() => {\r\n                // Handle new folder in folder\r\n                closeContextMenu();\r\n              }}>New Folder</div>\r\n            </>\r\n          )}\r\n          \r\n          {menuType === 'root' && (\r\n            <>\r\n              <div className=\"context-menu-item\" onClick={() => {\r\n                onAddFile();\r\n                closeContextMenu();\r\n              }}>New File</div>\r\n              { <div className=\"context-menu-item\" onClick={() => {\r\n                onAddFolder();\r\n                closeContextMenu();\r\n              }}>New Folder</div> \r\n              }\r\n            </>\r\n          )}\r\n          \r\n          {menuType !== 'root' && (\r\n            <>\r\n              <div className=\"context-menu-item\" onClick={() => {\r\n                handleRename(contextMenu.filePath);\r\n                closeContextMenu();\r\n              }}>Rename</div>\r\n              <div className=\"context-menu-item\" onClick={() => {\r\n                handleDelete(contextMenu.filePath);\r\n                closeContextMenu();\r\n              }}>Delete</div>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileSidebar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}