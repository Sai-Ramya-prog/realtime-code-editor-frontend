{"ast":null,"code":"var _jsxFileName = \"D:\\\\realtime-code-editor\\\\client\\\\src\\\\pages\\\\EditorPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { useLocation, useParams, useNavigate, useBeforeUnload } from 'react-router-dom';\nimport Editor from '@monaco-editor/react';\nimport { io } from 'socket.io-client';\nimport FileSidebar from '../components/FileSidebar';\nimport JSZip from 'jszip';\nimport { saveAs } from 'file-saver';\nimport '../styles/editor.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditorPage() {\n  _s();\n  const {\n    roomId\n  } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const socketRef = useRef(null);\n  const editorRef = useRef(null);\n  const iframeRef = useRef(null);\n  const initializedRef = useRef(false);\n  const [username, setUsername] = useState('');\n  const [files, setFiles] = useState({});\n  const [activeFile, setActiveFile] = useState('');\n  const [connectionStatus, setConnectionStatus] = useState('Connecting...');\n  const debouncedSave = useCallback(debounce(async (roomId, filename, content) => {\n    try {\n      await fetch('http://localhost:5000/api/code/save', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          roomId,\n          filename,\n          content\n        })\n      });\n    } catch (err) {\n      console.error('Error saving file:', err);\n    }\n  }, 1000), []);\n  const fetchFiles = useCallback(async () => {\n    if (!roomId) return;\n    try {\n      const res = await fetch(`http://localhost:5000/api/code/${roomId}`);\n      if (!res.ok) throw new Error('No files found');\n      const data = await res.json();\n      return data;\n    } catch (e) {\n      const defaultFiles = {\n        'index.html': '<!-- HTML file -->\\n',\n        'style.css': '/* CSS file */\\n',\n        'script.js': '// JS file\\n'\n      };\n      await Promise.all(Object.entries(defaultFiles).map(([f, c]) => debouncedSave(roomId, f, c)));\n      return defaultFiles;\n    }\n  }, [roomId, debouncedSave]);\n  const initializeSocket = useCallback(filesData => {\n    const socket = io('http://localhost:5000');\n    socket.on('connect', () => {\n      setConnectionStatus('Connected');\n      socket.emit('join-room', {\n        roomId,\n        username,\n        files: filesData\n      });\n    });\n    socket.on('receive-code', ({\n      filePath,\n      code\n    }) => {\n      setFiles(prev => ({\n        ...prev,\n        [filePath]: code\n      }));\n    });\n    socketRef.current = socket;\n  }, [roomId, username]);\n  useEffect(() => {\n    var _location$state;\n    if (!roomId) navigate('/room');\n    if (initializedRef.current) return;\n    initializedRef.current = true;\n    const user = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.username) || localStorage.getItem('username') || 'Guest';\n    setUsername(user);\n    (async () => {\n      const loadedFiles = await fetchFiles();\n      setFiles(loadedFiles);\n      setActiveFile(Object.keys(loadedFiles)[0]);\n      initializeSocket(loadedFiles);\n    })();\n  }, [roomId, navigate, location.state, fetchFiles, initializeSocket]);\n  const handleCodeChange = value => {\n    if (!value) value = '';\n    setFiles(prev => ({\n      ...prev,\n      [activeFile]: value\n    }));\n    socketRef.current.emit('code-change', {\n      roomId,\n      filePath: activeFile,\n      code: value\n    });\n    debouncedSave(roomId, activeFile, value);\n  };\n  const handleRun = () => {\n    if (!files || !iframeRef.current) return;\n    const html = Object.entries(files).filter(([f]) => f.endsWith('.html')).map(([_, c]) => c).join('\\n');\n    const css = Object.entries(files).filter(([f]) => f.endsWith('.css')).map(([_, c]) => `<style>${c}</style>`).join('\\n');\n    const js = Object.entries(files).filter(([f]) => f.endsWith('.js')).map(([_, c]) => `<script>${c}</script>`).join('\\n');\n    const combined = `\n      <!DOCTYPE html>\n      <html>\n        <head>${css}</head>\n        <body>${html}${js}</body>\n      </html>\n    `;\n    const blob = new Blob([combined], {\n      type: 'text/html'\n    });\n    const url = URL.createObjectURL(blob);\n    iframeRef.current.src = url;\n    setTimeout(() => URL.revokeObjectURL(url), 1000);\n  };\n  const handleDownloadProject = () => {\n    const zip = new JSZip();\n    Object.entries(files).forEach(([name, content]) => zip.file(name, content));\n    zip.generateAsync({\n      type: 'blob'\n    }).then(blob => {\n      saveAs(blob, `${roomId || 'project'}.zip`);\n    });\n  };\n  const handleAddFile = () => {\n    const fileName = prompt('Enter new file name (e.g. folder/utils.js):');\n    if (!fileName || files[fileName]) return;\n    setFiles(prev => ({\n      ...prev,\n      [fileName]: ''\n    }));\n    setActiveFile(fileName);\n    socketRef.current.emit('code-change', {\n      roomId,\n      filePath: fileName,\n      code: ''\n    });\n    debouncedSave(roomId, fileName, '');\n  };\n  const handleDeleteFile = fileName => {\n    if (!fileName) return;\n    const updated = {\n      ...files\n    };\n    delete updated[fileName];\n    setFiles(updated);\n    if (activeFile === fileName) {\n      const remaining = Object.keys(updated);\n      setActiveFile(remaining[0] || '');\n    }\n  };\n  const handleRenameFile = (oldName, newName) => {\n    setFiles(prevFiles => {\n      const updated = {\n        ...prevFiles\n      };\n      updated[newName] = updated[oldName];\n      delete updated[oldName];\n      return updated;\n    });\n    if (activeFile === oldName) {\n      setActiveFile(newName);\n    }\n  };\n  const getLanguage = file => {\n    if (file.endsWith('.js')) return 'javascript';\n    if (file.endsWith('.html')) return 'html';\n    if (file.endsWith('.css')) return 'css';\n    return 'plaintext';\n  };\n  if (!files || Object.keys(files).length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-screen\",\n      children: \"Loading editor...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editor-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: /*#__PURE__*/_jsxDEV(FileSidebar, {\n        files: Object.keys(files),\n        activeFile: activeFile,\n        setActiveFile: setActiveFile,\n        onAddFile: handleAddFile,\n        onRenameFile: handleRenameFile,\n        onDownload: handleDownloadProject,\n        onDeleteFile: handleDeleteFile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-editor\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editor-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: activeFile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRun,\n          children: \"\\u25B6 Run\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Editor, {\n        height: \"50vh\",\n        language: getLanguage(activeFile),\n        value: files[activeFile],\n        onChange: handleCodeChange,\n        onMount: editor => editorRef.current = editor,\n        theme: \"vs-dark\",\n        options: {\n          minimap: {\n            enabled: false\n          },\n          fontSize: 14,\n          wordWrap: 'on',\n          automaticLayout: true\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"output-panel\",\n        children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n          ref: iframeRef,\n          title: \"Output\",\n          className: \"output-frame\",\n          sandbox: \"allow-scripts allow-same-origin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n}\n_s(EditorPage, \"DLLenT4/Cw65UGpobGigktFrD2c=\", false, function () {\n  return [useParams, useLocation, useNavigate];\n});\n_c = EditorPage;\nfunction debounce(func, wait) {\n  let timeout;\n  return function (...args) {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), wait);\n  };\n}\nexport default EditorPage;\nvar _c;\n$RefreshReg$(_c, \"EditorPage\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","useLocation","useParams","useNavigate","useBeforeUnload","Editor","io","FileSidebar","JSZip","saveAs","jsxDEV","_jsxDEV","EditorPage","_s","roomId","location","navigate","socketRef","editorRef","iframeRef","initializedRef","username","setUsername","files","setFiles","activeFile","setActiveFile","connectionStatus","setConnectionStatus","debouncedSave","debounce","filename","content","fetch","method","headers","body","JSON","stringify","err","console","error","fetchFiles","res","ok","Error","data","json","e","defaultFiles","Promise","all","Object","entries","map","f","c","initializeSocket","filesData","socket","on","emit","filePath","code","prev","current","_location$state","user","state","localStorage","getItem","loadedFiles","keys","handleCodeChange","value","handleRun","html","filter","endsWith","_","join","css","js","combined","blob","Blob","type","url","URL","createObjectURL","src","setTimeout","revokeObjectURL","handleDownloadProject","zip","forEach","name","file","generateAsync","then","handleAddFile","fileName","prompt","handleDeleteFile","updated","remaining","handleRenameFile","oldName","newName","prevFiles","getLanguage","length","className","children","_jsxFileName","lineNumber","columnNumber","onAddFile","onRenameFile","onDownload","onDeleteFile","onClick","height","language","onChange","onMount","editor","theme","options","minimap","enabled","fontSize","wordWrap","automaticLayout","ref","title","sandbox","_c","func","wait","timeout","args","clearTimeout","$RefreshReg$"],"sources":["D:/realtime-code-editor/client/src/pages/EditorPage.js"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\r\nimport { useLocation, useParams, useNavigate, useBeforeUnload } from 'react-router-dom';\r\nimport Editor from '@monaco-editor/react';\r\nimport { io } from 'socket.io-client';\r\nimport FileSidebar from '../components/FileSidebar';\r\nimport JSZip from 'jszip';\r\nimport { saveAs } from 'file-saver';\r\nimport '../styles/editor.css';\r\n\r\nfunction EditorPage() {\r\n  const { roomId } = useParams();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const socketRef = useRef(null);\r\n  const editorRef = useRef(null);\r\n  const iframeRef = useRef(null);\r\n  const initializedRef = useRef(false);\r\n\r\n  const [username, setUsername] = useState('');\r\n  const [files, setFiles] = useState({});\r\n  const [activeFile, setActiveFile] = useState('');\r\n  const [connectionStatus, setConnectionStatus] = useState('Connecting...');\r\n\r\n  const debouncedSave = useCallback(\r\n    debounce(async (roomId, filename, content) => {\r\n      try {\r\n        await fetch('http://localhost:5000/api/code/save', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ roomId, filename, content }),\r\n        });\r\n      } catch (err) {\r\n        console.error('Error saving file:', err);\r\n      }\r\n    }, 1000),\r\n    []\r\n  );\r\n\r\n  const fetchFiles = useCallback(async () => {\r\n    if (!roomId) return;\r\n    try {\r\n      const res = await fetch(`http://localhost:5000/api/code/${roomId}`);\r\n      if (!res.ok) throw new Error('No files found');\r\n      const data = await res.json();\r\n      return data;\r\n    } catch (e) {\r\n      const defaultFiles = {\r\n        'index.html': '<!-- HTML file -->\\n',\r\n        'style.css': '/* CSS file */\\n',\r\n        'script.js': '// JS file\\n',\r\n      };\r\n      await Promise.all(\r\n        Object.entries(defaultFiles).map(([f, c]) => debouncedSave(roomId, f, c))\r\n      );\r\n      return defaultFiles;\r\n    }\r\n  }, [roomId, debouncedSave]);\r\n\r\n  const initializeSocket = useCallback((filesData) => {\r\n    const socket = io('http://localhost:5000');\r\n\r\n    socket.on('connect', () => {\r\n      setConnectionStatus('Connected');\r\n      socket.emit('join-room', { roomId, username, files: filesData });\r\n    });\r\n\r\n    socket.on('receive-code', ({ filePath, code }) => {\r\n      setFiles(prev => ({\r\n        ...prev,\r\n        [filePath]: code\r\n      }));\r\n    });\r\n\r\n    socketRef.current = socket;\r\n  }, [roomId, username]);\r\n\r\n  useEffect(() => {\r\n    if (!roomId) navigate('/room');\r\n    if (initializedRef.current) return;\r\n    initializedRef.current = true;\r\n\r\n    const user = location.state?.username || localStorage.getItem('username') || 'Guest';\r\n    setUsername(user);\r\n\r\n    (async () => {\r\n      const loadedFiles = await fetchFiles();\r\n      setFiles(loadedFiles);\r\n      setActiveFile(Object.keys(loadedFiles)[0]);\r\n      initializeSocket(loadedFiles);\r\n    })();\r\n  }, [roomId, navigate, location.state, fetchFiles, initializeSocket]);\r\n\r\n  const handleCodeChange = (value) => {\r\n    if (!value) value = '';\r\n    setFiles(prev => ({ ...prev, [activeFile]: value }));\r\n    socketRef.current.emit('code-change', { roomId, filePath: activeFile, code: value });\r\n    debouncedSave(roomId, activeFile, value);\r\n  };\r\n\r\n  const handleRun = () => {\r\n    if (!files || !iframeRef.current) return;\r\n\r\n    const html = Object.entries(files).filter(([f]) => f.endsWith('.html')).map(([_, c]) => c).join('\\n');\r\n    const css = Object.entries(files).filter(([f]) => f.endsWith('.css')).map(([_, c]) => `<style>${c}</style>`).join('\\n');\r\n    const js = Object.entries(files).filter(([f]) => f.endsWith('.js')).map(([_, c]) => `<script>${c}</script>`).join('\\n');\r\n\r\n    const combined = `\r\n      <!DOCTYPE html>\r\n      <html>\r\n        <head>${css}</head>\r\n        <body>${html}${js}</body>\r\n      </html>\r\n    `;\r\n\r\n    const blob = new Blob([combined], { type: 'text/html' });\r\n    const url = URL.createObjectURL(blob);\r\n    iframeRef.current.src = url;\r\n    setTimeout(() => URL.revokeObjectURL(url), 1000);\r\n  };\r\n\r\n  const handleDownloadProject = () => {\r\n    const zip = new JSZip();\r\n    Object.entries(files).forEach(([name, content]) => zip.file(name, content));\r\n    zip.generateAsync({ type: 'blob' }).then(blob => {\r\n      saveAs(blob, `${roomId || 'project'}.zip`);\r\n    });\r\n  };\r\n\r\n  const handleAddFile = () => {\r\n    const fileName = prompt('Enter new file name (e.g. folder/utils.js):');\r\n    if (!fileName || files[fileName]) return;\r\n\r\n    setFiles(prev => ({ ...prev, [fileName]: '' }));\r\n    setActiveFile(fileName);\r\n    socketRef.current.emit('code-change', { roomId, filePath: fileName, code: '' });\r\n    debouncedSave(roomId, fileName, '');\r\n  };\r\n\r\n  const handleDeleteFile = (fileName) => {\r\n    if (!fileName) return;\r\n    const updated = { ...files };\r\n    delete updated[fileName];\r\n    setFiles(updated);\r\n    if (activeFile === fileName) {\r\n      const remaining = Object.keys(updated);\r\n      setActiveFile(remaining[0] || '');\r\n    }\r\n  };\r\nconst handleRenameFile = (oldName, newName) => {\r\n  setFiles(prevFiles => {\r\n    const updated = { ...prevFiles };\r\n    updated[newName] = updated[oldName];\r\n    delete updated[oldName];\r\n    return updated;\r\n  });\r\n\r\n  if (activeFile === oldName) {\r\n    setActiveFile(newName);\r\n  }\r\n};\r\n\r\n  const getLanguage = (file) => {\r\n    if (file.endsWith('.js')) return 'javascript';\r\n    if (file.endsWith('.html')) return 'html';\r\n    if (file.endsWith('.css')) return 'css';\r\n    return 'plaintext';\r\n  };\r\n\r\n  if (!files || Object.keys(files).length === 0) {\r\n    return <div className=\"loading-screen\">Loading editor...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"editor-wrapper\">\r\n      <div className=\"sidebar\">\r\n        <FileSidebar\r\n          files={Object.keys(files)}\r\n          activeFile={activeFile}\r\n          setActiveFile={setActiveFile}\r\n          onAddFile={handleAddFile}\r\n          onRenameFile={handleRenameFile}\r\n          onDownload={handleDownloadProject}\r\n          onDeleteFile={handleDeleteFile}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"main-editor\">\r\n        <div className=\"editor-header\">\r\n          <strong>{activeFile}</strong>\r\n          <button onClick={handleRun}>▶ Run</button>\r\n        </div>\r\n\r\n        <Editor\r\n          height=\"50vh\"\r\n          language={getLanguage(activeFile)}\r\n          value={files[activeFile]}\r\n          onChange={handleCodeChange}\r\n          onMount={editor => editorRef.current = editor}\r\n          theme=\"vs-dark\"\r\n          options={{ minimap: { enabled: false }, fontSize: 14, wordWrap: 'on', automaticLayout: true }}\r\n        />\r\n\r\n        <div className=\"output-panel\">\r\n          <iframe ref={iframeRef} title=\"Output\" className=\"output-frame\" sandbox=\"allow-scripts allow-same-origin\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction debounce(func, wait) {\r\n  let timeout;\r\n  return function (...args) {\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(() => func(...args), wait);\r\n  };\r\n}\r\n\r\nexport default EditorPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}