{"ast":null,"code":"var _jsxFileName = \"D:\\\\realtime-code-editor\\\\client\\\\src\\\\components\\\\FileSidebar.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport '../styles/FileSidebar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileSidebar = ({\n  files,\n  activeFile,\n  setActiveFile,\n  onAddFile,\n  onDownload,\n  onDeleteFile,\n  onRenameFile\n}) => {\n  _s();\n  const [expandedFolders, setExpandedFolders] = useState({});\n  const toggleFolder = folder => {\n    setExpandedFolders(prev => ({\n      ...prev,\n      [folder]: !prev[folder]\n    }));\n  };\n  const buildTree = paths => {\n    const tree = {};\n    paths.forEach(path => {\n      if (!path) return;\n      const parts = path.split('/');\n      let current = tree;\n      for (let i = 0; i < parts.length; i++) {\n        const part = parts[i];\n        if (!current[part]) {\n          current[part] = i === parts.length - 1 ? {\n            __isFile: true\n          } : {};\n        }\n        current = current[part];\n      }\n    });\n    return tree;\n  };\n  const renderTree = (node, prefix = '') => {\n    const entries = Object.entries(node);\n\n    // If no files exist, show a message\n    if (entries.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-message\",\n        children: \"No files yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 14\n      }, this);\n    }\n    return entries.map(([name, children]) => {\n      const fullPath = prefix ? `${prefix}/${name}` : name;\n      if (children === null) {\n        // It's a file\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-item-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `file-item ${fullPath === activeFile ? 'active' : ''}`,\n            onClick: () => setActiveFile(fullPath),\n            children: [\"\\uD83D\\uDCC4 \", name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"rename-button\",\n              onClick: e => {\n                e.stopPropagation();\n                handleRename(fullPath);\n              },\n              children: \"\\u270F\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"delete-button\",\n              onClick: e => {\n                e.stopPropagation();\n                onDeleteFile(fullPath);\n              },\n              children: \"\\uD83D\\uDDD1\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, fullPath, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this);\n      } else {\n        // It's a folder\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"folder-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"folder-name\",\n            onClick: () => toggleFolder(fullPath),\n            children: [expandedFolders[fullPath] ? '📂' : '📁', \" \", name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), expandedFolders[fullPath] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"folder-children\",\n            children: renderTree(children, fullPath)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, fullPath, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this);\n      }\n    });\n  };\n  const handleRename = path => {\n    const newName = prompt('Enter new name (with extension):', path.split('/').pop());\n    if (newName) {\n      const base = path.includes('/') ? path.substring(0, path.lastIndexOf('/')) : '';\n      const newPath = base ? `${base}/${newName}` : newName;\n      onRenameFile(path, newPath);\n    }\n  };\n  const tree = buildTree(Object.keys(files).filter(Boolean));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"file-sidebar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-file-button\",\n        onClick: onAddFile,\n        children: \"\\u2795 Add File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"download-button\",\n        onClick: onDownload,\n        children: \"\\u2B07 Download\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-list\",\n      children: renderTree(tree)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n};\n_s(FileSidebar, \"iZIm3SIB/kIBu7yHUThudhiQb4I=\");\n_c = FileSidebar;\nexport default FileSidebar;\nvar _c;\n$RefreshReg$(_c, \"FileSidebar\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","FileSidebar","files","activeFile","setActiveFile","onAddFile","onDownload","onDeleteFile","onRenameFile","_s","expandedFolders","setExpandedFolders","toggleFolder","folder","prev","buildTree","paths","tree","forEach","path","parts","split","current","i","length","part","__isFile","renderTree","node","prefix","entries","Object","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","name","fullPath","onClick","e","stopPropagation","handleRename","newName","prompt","pop","base","includes","substring","lastIndexOf","newPath","keys","filter","Boolean","_c","$RefreshReg$"],"sources":["D:/realtime-code-editor/client/src/components/FileSidebar.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport '../styles/FileSidebar.css';\r\n\r\nconst FileSidebar = ({\r\n  files,\r\n  activeFile,\r\n  setActiveFile,\r\n  onAddFile,\r\n  onDownload,\r\n  onDeleteFile,\r\n  onRenameFile\r\n}) => {\r\n  const [expandedFolders, setExpandedFolders] = useState({});\r\n\r\n  const toggleFolder = (folder) => {\r\n    setExpandedFolders(prev => ({ ...prev, [folder]: !prev[folder] }));\r\n  };\r\n\r\n  const buildTree = (paths) => {\r\n  const tree = {};\r\n  paths.forEach(path => {\r\n    if (!path) return;\r\n    \r\n    const parts = path.split('/');\r\n    let current = tree;\r\n    \r\n    for (let i = 0; i < parts.length; i++) {\r\n      const part = parts[i];\r\n      if (!current[part]) {\r\n        current[part] = i === parts.length - 1 ? { __isFile: true } : {};\r\n      }\r\n      current = current[part];\r\n    }\r\n  });\r\n  return tree;\r\n};\r\n\r\n  const renderTree = (node, prefix = '') => {\r\n    const entries = Object.entries(node);\r\n    \r\n    // If no files exist, show a message\r\n    if (entries.length === 0) {\r\n      return <div className=\"empty-message\">No files yet</div>;\r\n    }\r\n\r\n    return entries.map(([name, children]) => {\r\n      const fullPath = prefix ? `${prefix}/${name}` : name;\r\n      \r\n      if (children === null) {\r\n        // It's a file\r\n        return (\r\n          <div key={fullPath} className=\"file-item-wrapper\">\r\n            <div\r\n              className={`file-item ${fullPath === activeFile ? 'active' : ''}`}\r\n              onClick={() => setActiveFile(fullPath)}\r\n            >\r\n              📄 {name}\r\n            </div>\r\n            <div className=\"file-actions\">\r\n              <button \r\n                className=\"rename-button\" \r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handleRename(fullPath);\r\n                }}\r\n              >\r\n                ✏️\r\n              </button>\r\n              <button \r\n                className=\"delete-button\" \r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onDeleteFile(fullPath);\r\n                }}\r\n              >\r\n                🗑️\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      } else {\r\n        // It's a folder\r\n        return (\r\n          <div key={fullPath} className=\"folder-group\">\r\n            <div \r\n              className=\"folder-name\" \r\n              onClick={() => toggleFolder(fullPath)}\r\n            >\r\n              {expandedFolders[fullPath] ? '📂' : '📁'} {name}\r\n            </div>\r\n            {expandedFolders[fullPath] && (\r\n              <div className=\"folder-children\">\r\n                {renderTree(children, fullPath)}\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleRename = (path) => {\r\n    const newName = prompt('Enter new name (with extension):', path.split('/').pop());\r\n    if (newName) {\r\n      const base = path.includes('/') ? path.substring(0, path.lastIndexOf('/')) : '';\r\n      const newPath = base ? `${base}/${newName}` : newName;\r\n      onRenameFile(path, newPath);\r\n    }\r\n  };\r\n\r\n  const tree = buildTree(Object.keys(files).filter(Boolean));\r\n\r\n  return (\r\n    <div className=\"file-sidebar\">\r\n      <div className=\"sidebar-controls\">\r\n        <button className=\"add-file-button\" onClick={onAddFile}>\r\n          ➕ Add File\r\n        </button>\r\n        <button className=\"download-button\" onClick={onDownload}>\r\n          ⬇ Download\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"file-list\">\r\n        {renderTree(tree)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileSidebar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}