{"ast":null,"code":"var _jsxFileName = \"D:\\\\realtime-code-editor\\\\client\\\\src\\\\components\\\\FileSidebar.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport '../styles/FileSidebar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileSidebar = ({\n  files,\n  activeFile,\n  setActiveFile,\n  onAddFile,\n  onDownload,\n  onDeleteFile,\n  onRenameFile\n}) => {\n  _s();\n  const [expandedFolders, setExpandedFolders] = useState({});\n  const toggleFolder = folder => {\n    setExpandedFolders(prev => ({\n      ...prev,\n      [folder]: !prev[folder]\n    }));\n  };\n\n  // Improved tree builder that handles both flat and nested structures\n  const buildTree = paths => {\n    const tree = {};\n    paths.forEach(path => {\n      // Skip empty paths\n      if (!path) return;\n      const parts = path.split('/');\n      let current = tree;\n      parts.forEach((part, i) => {\n        if (!current[part]) {\n          current[part] = i === parts.length - 1 ? null : {};\n        }\n        current = current[part] || {};\n      });\n    });\n    return tree;\n  };\n  const renderTree = (node, prefix = '') => {\n    const entries = Object.entries(node);\n\n    // If no files exist, show a message\n    if (entries.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-message\",\n        children: \"No files yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 14\n      }, this);\n    }\n    return entries.map(([name, children]) => {\n      const fullPath = prefix ? `${prefix}/${name}` : name;\n      if (children === null) {\n        // It's a file\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-item-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `file-item ${fullPath === activeFile ? 'active' : ''}`,\n            onClick: () => setActiveFile(fullPath),\n            children: [\"\\uD83D\\uDCC4 \", name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"rename-button\",\n              onClick: e => {\n                e.stopPropagation();\n                handleRename(fullPath);\n              },\n              children: \"\\u270F\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"delete-button\",\n              onClick: e => {\n                e.stopPropagation();\n                onDeleteFile(fullPath);\n              },\n              children: \"\\uD83D\\uDDD1\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, fullPath, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this);\n      } else {\n        // It's a folder\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"folder-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"folder-name\",\n            onClick: () => toggleFolder(fullPath),\n            children: [expandedFolders[fullPath] ? '📂' : '📁', \" \", name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), expandedFolders[fullPath] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"folder-children\",\n            children: renderTree(children, fullPath)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)]\n        }, fullPath, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this);\n      }\n    });\n  };\n  const handleRename = path => {\n    const newName = prompt('Enter new name (with extension):', path.split('/').pop());\n    if (newName) {\n      const base = path.includes('/') ? path.substring(0, path.lastIndexOf('/')) : '';\n      const newPath = base ? `${base}/${newName}` : newName;\n      onRenameFile(path, newPath);\n    }\n  };\n  const tree = buildTree(Object.keys(files).filter(Boolean));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"file-sidebar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-file-button\",\n        onClick: onAddFile,\n        children: \"\\u2795 Add File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"download-button\",\n        onClick: onDownload,\n        children: \"\\u2B07 Download\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-list\",\n      children: renderTree(tree)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n};\n_s(FileSidebar, \"iZIm3SIB/kIBu7yHUThudhiQb4I=\");\n_c = FileSidebar;\nexport default FileSidebar;\nvar _c;\n$RefreshReg$(_c, \"FileSidebar\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","FileSidebar","files","activeFile","setActiveFile","onAddFile","onDownload","onDeleteFile","onRenameFile","_s","expandedFolders","setExpandedFolders","toggleFolder","folder","prev","buildTree","paths","tree","forEach","path","parts","split","current","part","i","length","renderTree","node","prefix","entries","Object","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","name","fullPath","onClick","e","stopPropagation","handleRename","newName","prompt","pop","base","includes","substring","lastIndexOf","newPath","keys","filter","Boolean","_c","$RefreshReg$"],"sources":["D:/realtime-code-editor/client/src/components/FileSidebar.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport '../styles/FileSidebar.css';\r\n\r\nconst FileSidebar = ({\r\n  files,\r\n  activeFile,\r\n  setActiveFile,\r\n  onAddFile,\r\n  onDownload,\r\n  onDeleteFile,\r\n  onRenameFile\r\n}) => {\r\n  const [expandedFolders, setExpandedFolders] = useState({});\r\n\r\n  const toggleFolder = (folder) => {\r\n    setExpandedFolders(prev => ({ ...prev, [folder]: !prev[folder] }));\r\n  };\r\n\r\n  // Improved tree builder that handles both flat and nested structures\r\n  const buildTree = (paths) => {\r\n    const tree = {};\r\n    paths.forEach(path => {\r\n      // Skip empty paths\r\n      if (!path) return;\r\n      \r\n      const parts = path.split('/');\r\n      let current = tree;\r\n      \r\n      parts.forEach((part, i) => {\r\n        if (!current[part]) {\r\n          current[part] = i === parts.length - 1 ? null : {};\r\n        }\r\n        current = current[part] || {};\r\n      });\r\n    });\r\n    return tree;\r\n  };\r\n\r\n  const renderTree = (node, prefix = '') => {\r\n    const entries = Object.entries(node);\r\n    \r\n    // If no files exist, show a message\r\n    if (entries.length === 0) {\r\n      return <div className=\"empty-message\">No files yet</div>;\r\n    }\r\n\r\n    return entries.map(([name, children]) => {\r\n      const fullPath = prefix ? `${prefix}/${name}` : name;\r\n      \r\n      if (children === null) {\r\n        // It's a file\r\n        return (\r\n          <div key={fullPath} className=\"file-item-wrapper\">\r\n            <div\r\n              className={`file-item ${fullPath === activeFile ? 'active' : ''}`}\r\n              onClick={() => setActiveFile(fullPath)}\r\n            >\r\n              📄 {name}\r\n            </div>\r\n            <div className=\"file-actions\">\r\n              <button \r\n                className=\"rename-button\" \r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handleRename(fullPath);\r\n                }}\r\n              >\r\n                ✏️\r\n              </button>\r\n              <button \r\n                className=\"delete-button\" \r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onDeleteFile(fullPath);\r\n                }}\r\n              >\r\n                🗑️\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      } else {\r\n        // It's a folder\r\n        return (\r\n          <div key={fullPath} className=\"folder-group\">\r\n            <div \r\n              className=\"folder-name\" \r\n              onClick={() => toggleFolder(fullPath)}\r\n            >\r\n              {expandedFolders[fullPath] ? '📂' : '📁'} {name}\r\n            </div>\r\n            {expandedFolders[fullPath] && (\r\n              <div className=\"folder-children\">\r\n                {renderTree(children, fullPath)}\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleRename = (path) => {\r\n    const newName = prompt('Enter new name (with extension):', path.split('/').pop());\r\n    if (newName) {\r\n      const base = path.includes('/') ? path.substring(0, path.lastIndexOf('/')) : '';\r\n      const newPath = base ? `${base}/${newName}` : newName;\r\n      onRenameFile(path, newPath);\r\n    }\r\n  };\r\n\r\n  const tree = buildTree(Object.keys(files).filter(Boolean));\r\n\r\n  return (\r\n    <div className=\"file-sidebar\">\r\n      <div className=\"sidebar-controls\">\r\n        <button className=\"add-file-button\" onClick={onAddFile}>\r\n          ➕ Add File\r\n        </button>\r\n        <button className=\"download-button\" onClick={onDownload}>\r\n          ⬇ Download\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"file-list\">\r\n        {renderTree(tree)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileSidebar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}