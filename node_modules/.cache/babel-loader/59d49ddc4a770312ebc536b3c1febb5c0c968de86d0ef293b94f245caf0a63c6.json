{"ast":null,"code":"import JSZip from 'jszip';\nimport { saveAs } from 'file-saver';\nexport function downloadProjectAsZip(fileTree, files, zipName = 'project.zip') {\n  const zip = new JSZip();\n  const addToZip = (zipFolder, nodes) => {\n    nodes.forEach(node => {\n      if (node.type === 'file') {\n        const content = files[node.path] || '';\n        zipFolder.file(node.name, content);\n      } else if (node.type === 'folder') {\n        const folder = zipFolder.folder(node.name);\n        if (folder) addToZip(folder, node.children || []);\n      }\n    });\n  };\n  if (fileTree && fileTree.children) {\n    addToZip(zip, fileTree.children);\n  }\n  zip.generateAsync({\n    type: 'blob'\n  }).then(content => {\n    saveAs(content, zipName);\n  });\n}","map":{"version":3,"names":["JSZip","saveAs","downloadProjectAsZip","fileTree","files","zipName","zip","addToZip","zipFolder","nodes","forEach","node","type","content","path","file","name","folder","children","generateAsync","then"],"sources":["D:/realtime-code-editor/client/src/utils/downloadZip.js"],"sourcesContent":["import JSZip from 'jszip';\r\nimport { saveAs } from 'file-saver';\r\n\r\nexport function downloadProjectAsZip(fileTree, files, zipName = 'project.zip') {\r\n  const zip = new JSZip();\r\n\r\n  const addToZip = (zipFolder, nodes) => {\r\n    nodes.forEach(node => {\r\n      if (node.type === 'file') {\r\n        const content = files[node.path] || '';\r\n        zipFolder.file(node.name, content);\r\n      } else if (node.type === 'folder') {\r\n        const folder = zipFolder.folder(node.name);\r\n        if (folder) addToZip(folder, node.children || []);\r\n      }\r\n    });\r\n  };\r\n\r\n  if (fileTree && fileTree.children) {\r\n    addToZip(zip, fileTree.children);\r\n  }\r\n\r\n  zip.generateAsync({ type: 'blob' }).then(content => {\r\n    saveAs(content, zipName);\r\n  });\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,YAAY;AAEnC,OAAO,SAASC,oBAAoBA,CAACC,QAAQ,EAAEC,KAAK,EAAEC,OAAO,GAAG,aAAa,EAAE;EAC7E,MAAMC,GAAG,GAAG,IAAIN,KAAK,CAAC,CAAC;EAEvB,MAAMO,QAAQ,GAAGA,CAACC,SAAS,EAAEC,KAAK,KAAK;IACrCA,KAAK,CAACC,OAAO,CAACC,IAAI,IAAI;MACpB,IAAIA,IAAI,CAACC,IAAI,KAAK,MAAM,EAAE;QACxB,MAAMC,OAAO,GAAGT,KAAK,CAACO,IAAI,CAACG,IAAI,CAAC,IAAI,EAAE;QACtCN,SAAS,CAACO,IAAI,CAACJ,IAAI,CAACK,IAAI,EAAEH,OAAO,CAAC;MACpC,CAAC,MAAM,IAAIF,IAAI,CAACC,IAAI,KAAK,QAAQ,EAAE;QACjC,MAAMK,MAAM,GAAGT,SAAS,CAACS,MAAM,CAACN,IAAI,CAACK,IAAI,CAAC;QAC1C,IAAIC,MAAM,EAAEV,QAAQ,CAACU,MAAM,EAAEN,IAAI,CAACO,QAAQ,IAAI,EAAE,CAAC;MACnD;IACF,CAAC,CAAC;EACJ,CAAC;EAED,IAAIf,QAAQ,IAAIA,QAAQ,CAACe,QAAQ,EAAE;IACjCX,QAAQ,CAACD,GAAG,EAAEH,QAAQ,CAACe,QAAQ,CAAC;EAClC;EAEAZ,GAAG,CAACa,aAAa,CAAC;IAAEP,IAAI,EAAE;EAAO,CAAC,CAAC,CAACQ,IAAI,CAACP,OAAO,IAAI;IAClDZ,MAAM,CAACY,OAAO,EAAER,OAAO,CAAC;EAC1B,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}