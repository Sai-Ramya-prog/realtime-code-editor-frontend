{"ast":null,"code":"import JSZip from'jszip';import{saveAs}from'file-saver';export function downloadProjectAsZip(fileTree,files){let zipName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'project.zip';const zip=new JSZip();const addToZip=(zipFolder,nodes)=>{nodes.forEach(node=>{if(node.type==='file'){const content=files[node.path]||'';zipFolder.file(node.name,content);}else if(node.type==='folder'){const folder=zipFolder.folder(node.name);if(folder)addToZip(folder,node.children||[]);}});};if(fileTree&&fileTree.children){addToZip(zip,fileTree.children);}zip.generateAsync({type:'blob'}).then(content=>{saveAs(content,zipName);});}","map":{"version":3,"names":["JSZip","saveAs","downloadProjectAsZip","fileTree","files","zipName","arguments","length","undefined","zip","addToZip","zipFolder","nodes","forEach","node","type","content","path","file","name","folder","children","generateAsync","then"],"sources":["D:/realtime-code-editor/client/src/utils/downloadZip.js"],"sourcesContent":["import JSZip from 'jszip';\r\nimport { saveAs } from 'file-saver';\r\n\r\nexport function downloadProjectAsZip(fileTree, files, zipName = 'project.zip') {\r\n  const zip = new JSZip();\r\n\r\n  const addToZip = (zipFolder, nodes) => {\r\n    nodes.forEach(node => {\r\n      if (node.type === 'file') {\r\n        const content = files[node.path] || '';\r\n        zipFolder.file(node.name, content);\r\n      } else if (node.type === 'folder') {\r\n        const folder = zipFolder.folder(node.name);\r\n        if (folder) addToZip(folder, node.children || []);\r\n      }\r\n    });\r\n  };\r\n\r\n  if (fileTree && fileTree.children) {\r\n    addToZip(zip, fileTree.children);\r\n  }\r\n\r\n  zip.generateAsync({ type: 'blob' }).then(content => {\r\n    saveAs(content, zipName);\r\n  });\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,YAAY,CAEnC,MAAO,SAAS,CAAAC,oBAAoBA,CAACC,QAAQ,CAAEC,KAAK,CAA2B,IAAzB,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,aAAa,CAC3E,KAAM,CAAAG,GAAG,CAAG,GAAI,CAAAT,KAAK,CAAC,CAAC,CAEvB,KAAM,CAAAU,QAAQ,CAAGA,CAACC,SAAS,CAAEC,KAAK,GAAK,CACrCA,KAAK,CAACC,OAAO,CAACC,IAAI,EAAI,CACpB,GAAIA,IAAI,CAACC,IAAI,GAAK,MAAM,CAAE,CACxB,KAAM,CAAAC,OAAO,CAAGZ,KAAK,CAACU,IAAI,CAACG,IAAI,CAAC,EAAI,EAAE,CACtCN,SAAS,CAACO,IAAI,CAACJ,IAAI,CAACK,IAAI,CAAEH,OAAO,CAAC,CACpC,CAAC,IAAM,IAAIF,IAAI,CAACC,IAAI,GAAK,QAAQ,CAAE,CACjC,KAAM,CAAAK,MAAM,CAAGT,SAAS,CAACS,MAAM,CAACN,IAAI,CAACK,IAAI,CAAC,CAC1C,GAAIC,MAAM,CAAEV,QAAQ,CAACU,MAAM,CAAEN,IAAI,CAACO,QAAQ,EAAI,EAAE,CAAC,CACnD,CACF,CAAC,CAAC,CACJ,CAAC,CAED,GAAIlB,QAAQ,EAAIA,QAAQ,CAACkB,QAAQ,CAAE,CACjCX,QAAQ,CAACD,GAAG,CAAEN,QAAQ,CAACkB,QAAQ,CAAC,CAClC,CAEAZ,GAAG,CAACa,aAAa,CAAC,CAAEP,IAAI,CAAE,MAAO,CAAC,CAAC,CAACQ,IAAI,CAACP,OAAO,EAAI,CAClDf,MAAM,CAACe,OAAO,CAAEX,OAAO,CAAC,CAC1B,CAAC,CAAC,CACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}